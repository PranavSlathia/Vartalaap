# =============================================================================
# VARTALAAP CONFIGURATION
# =============================================================================
# Copy this file to .env and fill in your values
# Generate security keys with: python scripts/generate_keys.py

# API Keys (Required)
GROQ_API_KEY=gsk_xxxx                    # Get from: https://console.groq.com
DEEPGRAM_API_KEY=xxxx                    # Get from: https://deepgram.com

# Telephony (Optional - for phone calls)
PLIVO_AUTH_ID=
PLIVO_AUTH_TOKEN=

# ElevenLabs TTS (Optional - better voice quality)
ELEVENLABS_API_KEY=

# Security (generate with: openssl rand -hex 32)
PHONE_ENCRYPTION_KEY=<64 hex chars>
PHONE_HASH_PEPPER=<64 hex chars>
ADMIN_PASSWORD_HASH=<bcrypt hash>
SESSION_SECRET=<32 random chars>

# Database
DATABASE_URL=sqlite+aiosqlite:///./data/vartalaap.db

# Redis
REDIS_URL=redis://localhost:6379

# App
DEBUG=false
LOG_LEVEL=INFO
ENVIRONMENT=production

# WhatsApp Webhook (optional)
WHATSAPP_WEBHOOK_URL=
WHATSAPP_WEBHOOK_TOKEN=

# TTS
PIPER_MODEL_PATH=
PIPER_VOICE=hi_IN-priyamvada-medium
EDGE_TTS_VOICE=hi-IN-SwaraNeural
TTS_TARGET_SAMPLE_RATE=8000

# Telephony
PLIVO_AUDIO_FORMAT=linear16
PLIVO_SAMPLE_RATE=16000
BARGE_IN_ENABLED=true
BARGE_IN_THRESHOLD=500.0
GREETING_TEXT=Namaste! Himalayan Kitchen mein aapka swagat hai. Main aapki kya madad kar sakti hoon?

# Feature Flags
EDGE_TTS_ENABLED=false

# =============================================================================
# KEYCLOAK AUTHENTICATION
# =============================================================================
KEYCLOAK_ADMIN=admin
KEYCLOAK_ADMIN_PASSWORD=<change-in-production>
KC_DB_USERNAME=keycloak
KC_DB_PASSWORD=<change-in-production>

# Backend Keycloak configuration (REQUIRED in production)
# These are used by the backend to validate JWT tokens from the frontend.
# Falls back to VITE_* vars for local development convenience.
KEYCLOAK_URL=http://localhost:8080
KEYCLOAK_REALM=vartalaap

# JWT Validation (backend validates frontend tokens)
# For production: Set to "true" and let PyJWT fetch JWKS from Keycloak
# For development: Set to "false" to skip signature verification
JWT_VERIFY=true
# Optional: Override issuer if different from KEYCLOAK_URL/realms/KEYCLOAK_REALM
# KEYCLOAK_ISSUER=http://localhost:8080/realms/vartalaap
# Optional: Override expected audience (default: "account")
# KEYCLOAK_AUDIENCE=account

# =============================================================================
# FRONTEND (passed as build args to web container)
# =============================================================================
VITE_API_URL=http://localhost:8000
VITE_KEYCLOAK_URL=http://localhost:8080
VITE_KEYCLOAK_REALM=vartalaap
VITE_KEYCLOAK_CLIENT_ID=vartalaap-web

# Business ID for multi-tenant data scoping (REQUIRED in production)
# This determines which business's data the admin UI shows/edits.
# Must match a business.id in the database.
VITE_BUSINESS_ID=himalayan_kitchen

# =============================================================================
# DOMAIN (for Caddy reverse proxy - production only)
# =============================================================================
# DOMAIN=vartalaap.yourdomain.com
